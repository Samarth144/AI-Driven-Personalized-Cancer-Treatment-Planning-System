<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Histopathology Analysis - NeuroOnco AI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

    <style>
        .report-viewer {
            background: var(--bg-secondary);
            padding: var(--spacing-xl);
            border-radius: var(--radius-xl);
            margin-bottom: var(--spacing-xl);
        }

        .report-content {
            background: white;
            color: var(--bg-primary);
            padding: var(--spacing-2xl);
            border-radius: var(--radius-lg);
            font-family: 'Times New Roman', serif;
            line-height: 1.8;
        }

        .extracted-data {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-lg);
        }

        .data-card {
            background: var(--bg-elevated);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            border-left: 4px solid var(--primary-blue);
        }

        .highlight {
            background: rgba(255, 255, 0, 0.3);
            padding: 0 0.25rem;
            border-radius: 2px;
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-container">
                <a href="index.html" class="nav-brand">üß† NeuroOnco AI</a>
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="dashboard.html" class="nav-link">Dashboard</a></li>
                    <li><a href="histopathology.html" class="nav-link active">Histopathology</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container" style="padding-top: var(--spacing-2xl); padding-bottom: var(--spacing-3xl);">
        <div class="flex justify-between items-center mb-xl">
            <div>
                <h1>Histopathology Report Analysis</h1>
                <p class="text-secondary">NLP-powered extraction of structured clinical data</p>
            </div>
            <button class="btn btn-primary" onclick="analyzeReport()">
                üîç Analyze Report
            </button>
        </div>

        <!-- Report Viewer -->
        <div class="report-viewer">
            <h3 class="mb-lg">Pathology Report</h3>
            <div class="report-content">
                <h2 style="text-align: center; color: var(--bg-primary);">SURGICAL PATHOLOGY REPORT</h2>
                <hr style="margin: var(--spacing-lg) 0;">

                <p><strong>Patient:</strong> John Doe | <strong>MRN:</strong> 123456 | <strong>Date:</strong> January
                    15, 2024</p>
                <p><strong>Specimen:</strong> Right frontal lobe tumor resection</p>

                <h3 style="margin-top: var(--spacing-lg); color: var(--bg-primary);">DIAGNOSIS:</h3>
                <p><span class="highlight">GLIOBLASTOMA, IDH-WILDTYPE (WHO GRADE IV)</span></p>

                <h3 style="margin-top: var(--spacing-lg); color: var(--bg-primary);">MICROSCOPIC DESCRIPTION:</h3>
                <p>
                    Sections show a highly cellular glial neoplasm with marked nuclear pleomorphism and brisk mitotic
                    activity
                    (approximately <span class="highlight">15 mitoses per 10 high-power fields</span>). Areas of <span
                        class="highlight">microvascular proliferation</span>
                    and <span class="highlight">necrosis with pseudopalisading</span> are present. The tumor cells are
                    positive for GFAP and show nuclear
                    accumulation of p53 protein. <span class="highlight">IDH1 R132H immunostain is negative</span>.
                </p>

                <h3 style="margin-top: var(--spacing-lg); color: var(--bg-primary);">IMMUNOHISTOCHEMISTRY:</h3>
                <ul>
                    <li><span class="highlight">GFAP: Positive</span></li>
                    <li><span class="highlight">IDH1 R132H: Negative</span></li>
                    <li><span class="highlight">p53: Strong nuclear positivity (>50% of cells)</span></li>
                    <li><span class="highlight">Ki-67: High proliferation index (40%)</span></li>
                    <li>ATRX: Retained</li>
                </ul>

                <h3 style="margin-top: var(--spacing-lg); color: var(--bg-primary);">MOLECULAR FINDINGS:</h3>
                <ul>
                    <li><span class="highlight">MGMT promoter methylation: Present</span></li>
                    <li>EGFR amplification: Detected</li>
                    <li>1p/19q codeletion: Absent</li>
                </ul>

                <h3 style="margin-top: var(--spacing-lg); color: var(--bg-primary);">COMMENT:</h3>
                <p>
                    The morphologic and immunophenotypic features are consistent with <span
                        class="highlight">glioblastoma, IDH-wildtype</span>,
                    according to the WHO 2021 classification. The presence of MGMT promoter methylation suggests
                    potential benefit
                    from temozolomide chemotherapy.
                </p>
            </div>
        </div>

        <!-- Extracted Structured Data -->
        <div class="card-glass mb-xl">
            <h3>AI-Extracted Structured Data</h3>
            <p class="text-secondary mb-lg">Key clinical information extracted via NLP</p>

            <div class="extracted-data">
                <div class="data-card">
                    <div class="text-secondary" style="font-size: 0.875rem;">Diagnosis</div>
                    <h4 class="mt-sm">Glioblastoma</h4>
                    <span class="badge badge-error">WHO Grade IV</span>
                </div>

                <div class="data-card" style="border-left-color: var(--success);">
                    <div class="text-secondary" style="font-size: 0.875rem;">IDH Status</div>
                    <h4 class="mt-sm">Wild-type</h4>
                    <span class="badge badge-info">IDH1 R132H Negative</span>
                </div>

                <div class="data-card" style="border-left-color: var(--warning);">
                    <div class="text-secondary" style="font-size: 0.875rem;">MGMT Promoter</div>
                    <h4 class="mt-sm">Methylated</h4>
                    <span class="badge badge-success">TMZ Sensitive</span>
                </div>

                <div class="data-card" style="border-left-color: var(--error);">
                    <div class="text-secondary" style="font-size: 0.875rem;">Ki-67 Index</div>
                    <h4 class="mt-sm">40%</h4>
                    <span class="badge badge-warning">High Proliferation</span>
                </div>

                <div class="data-card">
                    <div class="text-secondary" style="font-size: 0.875rem;">Mitotic Activity</div>
                    <h4 class="mt-sm">15/10 HPF</h4>
                    <span class="badge badge-error">Brisk</span>
                </div>

                <div class="data-card" style="border-left-color: var(--accent-cyan);">
                    <div class="text-secondary" style="font-size: 0.875rem;">Key Features</div>
                    <div class="mt-sm" style="font-size: 0.875rem;">
                        ‚Ä¢ Necrosis<br>
                        ‚Ä¢ Microvascular proliferation<br>
                        ‚Ä¢ p53 accumulation
                    </div>
                </div>
            </div>
        </div>

        <!-- WHO Classification -->
        <div class="grid-2 mb-xl">
            <div class="card-glass">
                <h3>WHO 2021 Classification</h3>
                <div
                    style="padding: var(--spacing-lg); background: var(--bg-elevated); border-radius: var(--radius-lg); margin-top: var(--spacing-md);">
                    <h4>Glioblastoma, IDH-wildtype</h4>
                    <p class="text-secondary mt-md">
                        <strong>CNS WHO Grade:</strong> 4<br>
                        <strong>Molecular Subtype:</strong> IDH-wildtype<br>
                        <strong>Prognosis:</strong> Poor (median OS 12-18 months)<br>
                        <strong>Treatment:</strong> Maximal safe resection + RT + TMZ
                    </p>
                </div>
            </div>

            <div class="card-glass">
                <h3>Clinical Implications</h3>
                <div style="line-height: 1.8;">
                    <p><strong>Diagnosis Confirmed:</strong> Glioblastoma, WHO Grade IV</p>

                    <p class="mt-md"><strong>Favorable Factor:</strong> MGMT promoter methylation suggests good response
                        to temozolomide chemotherapy.</p>

                    <p class="mt-md"><strong>Unfavorable Factors:</strong> IDH-wildtype status and high Ki-67 index
                        indicate aggressive tumor biology.</p>

                    <p class="mt-md"><strong>Recommendation:</strong> Standard Stupp protocol (surgery + concurrent
                        chemoradiation + adjuvant TMZ)</p>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-md justify-center">
            <button class="btn btn-secondary" onclick="window.location.href='genomic-analysis.html'">
                ‚Üê Back to Genomic Analysis
            </button>
            <button class="btn btn-primary" onclick="window.location.href='treatment-plan.html'">
                View Treatment Plan ‚Üí
            </button>
            <button class="btn btn-outline" onclick="downloadReport()">
                Download Report
            </button>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        function analyzeReport() {
            UI.showToast('Analyzing pathology report with NLP...', 'info');
            setTimeout(() => {
                UI.showToast('Analysis complete!', 'success');
            }, 2000);
        }

        function downloadReport() {
            UI.showToast('Downloading report...', 'info');
        }
    </script>
</body>

</html>